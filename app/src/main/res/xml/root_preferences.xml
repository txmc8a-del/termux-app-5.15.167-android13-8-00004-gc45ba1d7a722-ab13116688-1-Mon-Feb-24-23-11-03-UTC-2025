cat << 'EOF' > ~/extract-bundle-logic.sh
#!/bin/bash
# Best Buy Bundle Logic Extractor - Jazmyne Marrujo
# Scans for pricing tiers and discount codes

JS_URL="https://www.bestbuy.com/~assets/bby/_com/connectedDevices/dist/package-builder.bundle__213801b14f3af84d53b3__.js"
UA="Mozilla/5.0 (Windows NT 10.0; Win64; x64)"

echo "ðŸ”Ž Analyzing Bundle Logic for Procurement..."

# 1. Download the script
curl -s -L -A "$UA" "$JS_URL" -o ~/downloads/temp_bundle.js

# 2. Extract specific logic patterns (Price, Discount, Bundle)
echo "--- POSSIBLE DISCOUNTS/TIERS FOUND ---"
grep -Eoi "([0-9]{1,2}%|discount|price|bundle|off|save)" ~/downloads/temp_bundle.js | sort | uniq -c | sort -nr | head -n 10

# 3. Save a clean copy for your Grant Audit trail
mv ~/downloads/temp_bundle.js ~/registry/compliance/bestbuy_bundle_logic_$(date +%Y%m%d).js

echo "âœ… Analysis complete. Logic file saved to your Compliance folder."
echo "[$(date)] AUDIT: Extracted Best Buy Bundle logic for SGA procurement strategy." >> ~/registry/compliance/fse_maintenance.log
EOF

chmod +x ~/extract-bundle-logic.sh
<PreferenceScreen xmlns:app="http://schemas.android.com/apk/res-auto">

    <Preference
        app:key="termux"
        app:title="@string/termux_preferences_title"
        app:summary="@string/termux_preferences_summary"
        app:fragment="com.termux.app.fragments.settings.TermuxPreferencesFragment"/>

    <Preference
        app:key="termux_api"
        app:title="@string/termux_api_preferences_title"
        app:summary="@string/termux_api_preferences_summary"
        app:isPreferenceVisible="false"
        app:fragment="com.termux.app.fragments.settings.TermuxAPIPreferencesFragment"/>

    <Preference
        app:key="termux_float"
        app:title="@string/termux_float_preferences_title"
        app:summary="@string/termux_float_preferences_summary"
        app:isPreferenceVisible="false"
        app:fragment="com.termux.app.fragments.settings.TermuxFloatPreferencesFragment"/>

    <Preference
        app:key="termux_tasker"
        app:title="@string/termux_tasker_preferences_title"
        app:summary="@string/termux_tasker_preferences_summary"
        app:isPreferenceVisible="false"
        app:fragment="com.termux.app.fragments.settings.TermuxTaskerPreferencesFragment"/>

    <Preference
        app:key="termux_widget"
        app:title="@string/termux_widget_preferences_title"
        app:summary="@string/termux_widget_preferences_summary"
        app:isPreferenceVisible="false"
        app:fragment="com.termux.app.fragments.settings.TermuxWidgetPreferencesFragment"/>

    <Preference
        app:key="about"
        app:title="@string/about_preference_title"
        app:persistent="false"/>
    <!-- app:layout="@layout/preference_markdown_text" -->

    <Preference
        app:key="donate"
        app:title="@string/donate_preference_title"
        app:persistent="false"
        app:isPreferenceVisible="false"/>

</PreferenceScreen>
